import"../chunks/DsnmJJEf.js";import"../chunks/EQrIy0vH.js";import{o as be,a as _e}from"../chunks/Cqv5oa7h.js";import{D as he,a8 as H,a9 as ye,F as d,G as je,J as p,K as we,s as y,m as B,g as e,N as u,x as a,L as l,M as o,aa as ke,I as _,ab as ie,ac as re}from"../chunks/BaZ9SfP_.js";import{e as k,s as C}from"../chunks/Akokx1nm.js";import{i as J}from"../chunks/CrWHtQv4.js";import{p as Q,e as T,s as i,i as U}from"../chunks/Dp6py1LU.js";import{i as $e}from"../chunks/CyOOBUIH.js";import{s as xe,a as Ie}from"../chunks/CmkAA9gE.js";import{s as Ee,g as oe}from"../chunks/0A3EN4Up.js";function le(m){return function(...I){var A=I[0];return A.stopPropagation(),m?.apply(this,I)}}const Fe=()=>{const m=Ee;return{page:{subscribe:m.page.subscribe},navigating:{subscribe:m.navigating.subscribe},updated:m.updated}},Le={subscribe(m){return Fe().page.subscribe(m)}};var Pe=d('<img class="gallery-image svelte-jot9ci"/>'),De=d("<source/>"),Ae=d('<picture><!> <img class="gallery-image svelte-jot9ci"/></picture>'),Ge=d('<button type="button" class="image-wrapper svelte-jot9ci"><!> <div class="image-overlay svelte-jot9ci"><i class="ph-bold ph-magnifying-glass-plus svelte-jot9ci"></i></div></button>'),Ke=d('<div class="description-page svelte-jot9ci"><div class="header svelte-jot9ci"><a href="/" class="back-link svelte-jot9ci"><i class="ph-bold ph-arrow-left svelte-jot9ci"></i> <span>Back to Portfolio</span></a></div> <div class="content svelte-jot9ci"><div class="project-header svelte-jot9ci"><h1 class="title svelte-jot9ci"> </h1> <p class="subtitle svelte-jot9ci"> </p></div> <div class="description svelte-jot9ci"><p class="svelte-jot9ci"> </p></div> <div class="gallery svelte-jot9ci"><h2 class="gallery-title svelte-jot9ci">Gallery</h2> <div class="image-grid svelte-jot9ci"></div></div></div></div>'),Me=d('<img class="fullscreen-image svelte-jot9ci"/>'),Ne=d("<source/>"),Oe=d('<picture><!> <img class="fullscreen-image svelte-jot9ci"/></picture>'),Be=d('<div class="fullscreen-overlay svelte-jot9ci" role="dialog" aria-modal="true" tabindex="-1"><button class="close-button svelte-jot9ci" aria-label="Close"><i class="ph-bold ph-x"></i></button> <button class="nav-button prev-button svelte-jot9ci" aria-label="Previous image"><i class="ph-bold ph-arrow-left"></i></button> <button class="nav-button next-button svelte-jot9ci" aria-label="Next image"><i class="ph-bold ph-arrow-right"></i></button> <div class="fullscreen-image-container svelte-jot9ci"><!></div> <div class="image-counter svelte-jot9ci"> </div></div>'),Ce=d("<!> <!>",1);function We(m,I){he(I,!1);const A=()=>Ie(Le,"$page",ce),[ce,ne]=xe(),j=B(),t=B();let s=B(null),E=B(!1);function W(c){y(s,c),y(E,!0),document.body.style.overflow="hidden"}function G(){y(E,!1),y(s,null),document.body.style.overflow=""}function X(){e(s)!==null&&e(t)?.images&&y(s,(e(s)+1)%e(t).images.length)}function Y(){e(s)!==null&&e(t)?.images&&y(s,e(s)===0?e(t).images.length-1:e(s)-1)}function Z(c){e(E)&&(c.key==="Escape"?G():c.key==="ArrowRight"?X():c.key==="ArrowLeft"&&Y())}be(()=>{window.addEventListener("keydown",Z)}),_e(()=>{window.removeEventListener("keydown",Z),document.body.style.overflow=""}),H(()=>A(),()=>{y(j,A().params.slug)}),H(()=>(e(j),Q),()=>{y(t,e(j)&&e(j)in Q?Q[e(j)]:void 0)}),H(()=>(e(j),e(t),oe),()=>{e(j)&&!e(t)&&oe("/")}),ye(),$e();var ee=Ce(),te=je(ee);{var ve=c=>{var f=Ke(),F=u(l(f),2),$=l(F),x=l($),L=l(x,!0);o(x);var K=u(x,2),R=l(K,!0);o(K),o($);var P=u($,2),D=l(P),S=l(D,!0);o(D),o(P);var g=u(P,2),n=u(l(g),2);T(n,5,()=>(e(t),a(()=>e(t).images)),U,(M,r,w)=>{var h=Ge(),N=l(h);{var V=v=>{var b=Pe();_(()=>{i(b,"src",(e(r),a(()=>e(r).img.src))),i(b,"alt",`${e(t),a(()=>e(t).title)??""} - Image ${w+1}`),i(b,"width",(e(r),a(()=>e(r).img.w))),i(b,"height",(e(r),a(()=>e(r).img.h)))}),p(v,b)},q=v=>{var b=Ae(),se=l(b);T(se,1,()=>(e(r),a(()=>Object.entries(e(r).sources))),U,(pe,de)=>{var ae=ie(()=>re(e(de),2));let me=()=>e(ae)[0],fe=()=>e(ae)[1];var z=De();_(()=>{i(z,"srcset",fe()),i(z,"type","image/"+me())}),p(pe,z)});var O=u(se,2);o(b),_(()=>{i(O,"src",(e(r),a(()=>e(r).img.src))),i(O,"alt",`${e(t),a(()=>e(t).title)??""} - Image ${w+1}`),i(O,"width",(e(r),a(()=>e(r).img.w))),i(O,"height",(e(r),a(()=>e(r).img.h)))}),p(v,b)};J(N,v=>{typeof e(r)=="string"?v(V):v(q,!1)})}ke(2),o(h),_(()=>i(h,"aria-label",`View ${e(t),a(()=>e(t).title)??""} - Image ${w+1} in fullscreen`)),k("click",h,()=>W(w)),k("keydown",h,v=>v.key==="Enter"&&W(w)),p(M,h)}),o(n),o(g),o(F),o(f),_(()=>{C(L,(e(t),a(()=>e(t).title))),C(R,(e(t),a(()=>e(t).subtitle))),C(S,(e(t),a(()=>e(t).description)))}),p(c,f)};J(te,c=>{e(t)&&c(ve)})}var ue=u(te,2);{var ge=c=>{var f=Be(),F=l(f),$=u(F,2),x=u($,2),L=u(x,2),K=l(L);{var R=g=>{var n=Me();_(()=>{i(n,"src",(e(t),e(s),a(()=>e(t).images[e(s)].img.src))),i(n,"alt",`${e(t),a(()=>e(t).title)??""} - Image ${e(s)+1}`),i(n,"width",(e(t),e(s),a(()=>e(t).images[e(s)].img.w))),i(n,"height",(e(t),e(s),a(()=>e(t).images[e(s)].img.h)))}),p(g,n)},P=g=>{var n=Oe(),M=l(n);T(M,1,()=>(e(t),e(s),a(()=>Object.entries(e(t).images[e(s)].sources))),U,(w,h)=>{var N=ie(()=>re(e(h),2));let V=()=>e(N)[0],q=()=>e(N)[1];var v=Ne();_(()=>{i(v,"srcset",q()),i(v,"type","image/"+V())}),p(w,v)});var r=u(M,2);o(n),_(()=>{i(r,"src",(e(t),e(s),a(()=>e(t).images[e(s)].img.src))),i(r,"alt",`${e(t),a(()=>e(t).title)??""} - Image ${e(s)+1}`),i(r,"width",(e(t),e(s),a(()=>e(t).images[e(s)].img.w))),i(r,"height",(e(t),e(s),a(()=>e(t).images[e(s)].img.h)))}),p(g,n)};J(K,g=>{e(t),e(s),a(()=>typeof e(t).images[e(s)]=="string")?g(R):g(P,!1)})}o(L);var D=u(L,2),S=l(D);o(D),o(f),_(()=>C(S,`${e(s)+1} / ${e(t),a(()=>e(t).images.length)??""}`)),k("click",F,G),k("click",$,le(Y)),k("click",x,le(X)),k("click",f,G),k("keydown",f,g=>g.key==="Enter"&&G()),p(c,f)};J(ue,c=>{e(E),e(s),e(t),a(()=>e(E)&&e(s)!==null&&e(t)?.images)&&c(ge)})}p(m,ee),we(),ne()}export{We as component};
